{% extends 'base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/user_profile.css' %}">
{% endblock %}
{% block title %}{{ user.username }} | Profile{% endblock %}

{% block body %}
    <div class="container">
        <main>
            <div class="py-5 div-avatar text-center">
{#                <div class="profile-avatar" style="background-image: url({% static 'daredevil.jpg' %})"></div>#}

                <img class="avatar mb-4" alt="user-profile" src="{{ user.profile.avatar.url }}">
                <h2>{{ user.username }}</h2>
            </div>

            <div class="row g-5 justify-content-center">
              <div class="col-md-7 col-lg-8">
                <form class="needs-validation" action="/{{ user.username }}/profile" method="post" enctype="multipart/form-data">
                  <div class="row g-3">
                    <div class="col-sm-6">
                      <label for="first_name" class="form-label">First name</label>
                      <input type="text" class="form-control" id="first_name" name="first_name" placeholder="" value="{{ user.first_name }}">
                      <div class="invalid-feedback">
                        Valid first name is required.
                      </div>
                    </div>

                    <div class="col-sm-6">
                      <label for="lastName" class="form-label">Last name</label>
                      <input type="text" class="form-control" id="last_name" name="last_name" placeholder="" value="{{ user.last_name }}">
                      <div class="invalid-feedback">
                        Valid last name is required.
                      </div>
                    </div>

                    <div class="col-12">
                      <label for="username" class="form-label">Username</label>
                      <div class="input-group">
                        <span class="input-group-text">@</span>
                        <input type="text" class="form-control" id="username" name="username" value="{{ user.username }}" required>
                      <div class="invalid-feedback">
                          Your username is required.
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <label for="email" class="form-label">Email</label>
                      <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" required>
                      <div class="invalid-feedback">
                        Please enter a valid email address for shipping updates.
                      </div>
                    </div>

                    <div class="col-12">
                      <label for="avatar" class="form-label">Avatar</label>
                      <input class="form-control" type="file" id="avatar" name="avatar" accept="image/*">
                    </div>

                    <div class="mb-3">
                      <label for="bio" class="form-label">Bio</label>
                      <textarea class="form-control" id="bio" name="bio" rows="3">{{ user.profile.bio }}</textarea>
                    </div>


                  </div>

                  <hr class="my-4">
                   {% csrf_token %}
                  <button class="btn btn-secondary btn-lg" type="submit">Update</button>
                </form>
              </div>
            </div>
        </main>
    </div>
{% endblock %}

{% block footer %}
{% endblock %}
